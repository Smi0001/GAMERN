(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t){},126:function(e,t){},127:function(e,t){},154:function(e,t){},156:function(e,t){},180:function(e,t){},190:function(e,t,a){},191:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(20),o=a.n(r),l=a(10),c=a(11),s=a(13),m=a(12),d=a(14),u=(a(55),a(5)),g=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.size,a=e.pulse,n=e.spin,r=e.icon,o=e.inverse,l=e.customClass,c=e.iconClass;return i.a.createElement("div",{className:"loader-div center "+(l||"")},i.a.createElement(u.f,{className:c||"text-color-white",icon:r||"spinner",pulse:!!a,spin:!!n,inverse:!!o,size:t||"2x"}))}}]),t}(i.a.Component),h=a(21),E=a(16),p=a(117),f=a(118),I=a(119),b=a(120),v={defaultTheme:{"menu.backgroundColor":"white","common.backgroundColor":"#151515","menu.normalIcon.path":b,"menu.activeIcon.path":f,"menu.disabledIcon.path":p,"menu.hoverIcon.path":I,"submenu.backgroundColor":"#444242"},defaultTheme2:{"menu.backgroundColor":"white","common.backgroundColor":"#e9e9e9","menu.normalIcon.path":b,"menu.activeIcon.path":f,"menu.disabledIcon.path":p,"menu.hoverIcon.path":I,"submenu.backgroundColor":"#444242"},imageDefaultName:"image",menuFeatures:["crop","flip","rotate","draw","shape","text","filter"],initMenu:"",uiSize:{height:"calc(100vh - 160px)"},menuBarPosition:"bottom",cssMaxHeight:window.innerHeight,cssMaxWidth:window.innerWidth,selectionStyle:{cornerSize:20,rotatingPointOffset:70},usageStatistics:!1,imageSizeAllowed:6e6},S="addMoreImageAlert",y="imageLoadFail",x={UP:"top",DOWN:"bottom",LEFT:"left",RIGHT:"right"},N=function(e){return{type:"UPDATE_SEARCH_STRING",payload:{searchString:e}}},k=function(e){return{type:"UPDATE_SEARCH_OPTIONS",payload:{options:e}}},L=function(e,t){return{type:"GET_IMAGE_LIST",payload:{searchString:e,options:t}}},O=function(e){return{type:"SET_IMAGE_LIST",payload:{imageList:e}}},w=function(e,t,a,n){return{type:"USE_IMAGE",payload:{imageThumbnail:e,imageUrl:t,imageId:a,xtraImage:n}}},R=function(e,t){return{type:"LOAD_SELECTED_IMAGE_URL",payload:{selectedImageURL:e,xtraImage:t}}},C=function(e){return{type:"SET_IS_IMAGE_LOADED",payload:{isBaseImageLoaded:e}}},M=function(e,t){return{type:"OPEN_MODAL",payload:Object(E.a)({openModalName:e||null},t||{})}},T=function(e){return{type:"TOGGLE_XTRA_EDITOR",payload:{showXtraEditor:e}}},j=function(e,t){return{type:"SET_MENU_BAR_POSITION",payload:{editorName:e,editorPosition:t}}},U=a(86),P=a.n(U),z=a(33),A=a(52),B=a.n(A),_=a(87),X=a(53),D=a.n(X),F=new(a(147))("004973649819293208902:kfq78axqpes","AIzaSyDFArRGA3jheuBJbVCdeOpL2WsAyo0ybrk"),G=function(e,t){return F.search(e,t).then((function(e){return e}))},H={getSearchResults:"search?q=searchString&options=optionsObject"},J={getSearchResults:function(e,t){var a="http://localhost:4000/"+H.getSearchResults.replace("searchString",e).replace("optionsObject",JSON.stringify(t));D.a.get(a).then((function(e){Y.dispatch(O(e.data))})).catch((function(e){return console.log(e)}))},checkImageExists:function(e,t,a){var n=this;D.a.get(t).then((function(){Y.dispatch(R(t,a))})).catch((function(t){console.log("could not fetch imageURL",t),e?n.checkImageExists(null,e,a):Y.dispatch(M(y,{xtraImageloading:!1,useImageloading:!1}))}))},getGoogleResultsFromUI:function(){var e=Object(_.a)(B.a.mark((function e(t,a){var n,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a||{page:1},e.prev=1,e.next=4,G(t,n);case 4:(i=e.sent)&&Y.dispatch(O(i)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error in getGoogleResultsFromUI:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},W={searchString:"",imageList:[],imageListloading:!1,isBaseImageLoaded:!1,openImageSizeModal:!1,useImageloading:!1,xtraImageloading:!1,showXtraEditor:!1,selectedImageURL:null,xtraImageURL:null,openAdditionalImageAlertModal:!1,openModalName:null,imageSize:null,xtraImageSize:{},baseImageSize:{},xtraEditorPosition:v.menuBarPosition,baseEditorPosition:v.menuBarPosition,addMoreImageAlertStates:{},imageLoadModalStates:{},selectedImageId:null,resultCount:0,options:{page:1}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_STRING":var a=t.payload.searchString;return Object(E.a)({},e,{searchString:a});case"UPDATE_SEARCH_OPTIONS":var n=t.payload.options;return Object(E.a)({},e,{options:n});case"GET_IMAGE_LIST":var i=e.searchString,r=e.options;return J.getSearchResults(i,r),Object(E.a)({},e,{imageList:[],imageListloading:!0});case"SET_IMAGE_LIST":var o=t.payload.imageList;return Object(E.a)({},e,{imageList:o,imageListloading:!1,resultCount:o.length,selectedImageId:null});case"USE_IMAGE":var l=t.payload,c=l.imageThumbnail,s=l.imageUrl,m=l.imageId,d=l.xtraImage;J.checkImageExists(c,s,d);var u={selectedImageId:m};return d?(u.xtraImageloading=!0,u.showXtraEditor=!0):(u.useImageloading=!0,u.showXtraEditor=!1),Object(E.a)({},e,{},u);case"LOAD_SELECTED_IMAGE_URL":var g=t.payload,h=g.selectedImageURL,p=g.xtraImage,f={};return p?(f.xtraImageURL=h,f.xtraImageloading=!1,f.showXtraEditor=!0):(f.selectedImageURL=h,f.useImageloading=!1,f.isBaseImageLoaded=!0,f.showXtraEditor=!1),Object(E.a)({},e,{},f);case"SET_IS_IMAGE_LOADED":var I=t.payload.isBaseImageLoaded;return Object(E.a)({},e,{isBaseImageLoaded:I});case"OPEN_MODAL":return Object(E.a)({},e,{},t.payload);case"TOGGLE_XTRA_EDITOR":var b=t.payload.showXtraEditor;return Object(E.a)({},e,{showXtraEditor:b});case"SET_MENU_BAR_POSITION":var v=t.payload,S=v.editorName,y=v.editorPosition,x={};return"base"===S?x.baseEditorPosition=y:x.xtraEditorPosition=y,Object(E.a)({},e,{},x);default:return Object(E.a)({},W)}},V=Object(z.b)({reducerState:q}),Y=Object(z.c)(V),K={scrollToHiddenElementById:function(e){var t=document.getElementById(e),a=setInterval((function(){t&&!t.classList.contains("hidden")&&(t.scrollIntoView(),clearInterval(a))}),400);setTimeout((function(){clearInterval(a)}),5e3)},replaceClassFromElement:function(e,t,a){var n=document.querySelector(e);n&&a.forEach((function(e){if(n.classList.contains(e))return n.classList.replace(e,t),!1}))},bodyClickButNotElementCallback:function(e,t){document.addEventListener("click",(function(a){var n="string"===typeof a.target.className&&a.target.className.trim();if(n){var i=document.querySelector(".".concat(n.split(" ").join(".")));if(i){var r=i.closest(e);if(r&&(r.classList.contains("nav-menu")||r.classList.contains(e)))return!1}}t&&t()}))},removeBodyClick:function(){document.removeEventListener&&document.removeEventListener("click")},getTruncateText:function(e){return(e||"Title not available").substr(0,20)+"..."}},$=a(186),Q=v.defaultTheme,Z=v.imageDefaultName,ee=v.menuFeatures,te=v.initMenu,ae=v.uiSize,ne=v.menuBarPosition,ie=v.cssMaxHeight,re=v.cssMaxWidth,oe=v.selectionStyle,le=v.usageStatistics,ce=v.imageSizeAllowed,se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).imageLoadWrapper=function(e){var t=!!e;t?a.isImageValidInSize(e)?("xtra"===a.props.componentId?K.scrollToHiddenElementById("xtra-image"):K.scrollToHiddenElementById("cream-your-meme"),a.state.originalLoadCode(e)):Y.dispatch(M(y,{imageSize:e.size})):t=!!a.state.imageEditorInst.getImageName(),Y.dispatch(C(t))},a.imageEditor=i.a.createRef(),a.state={selectedImageURL:e.selectedImageURL,myTheme:e.myTheme,componentId:e.componentId,menuBarPositionProp:e.menuBarPositionProp},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.bindImageLoadWrapperFn()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a={};t.selectedImageURL!==e.selectedImageURL&&(a.selectedImageURL=t.selectedImageURL),t.menuBarPositionProp!==e.menuBarPositionProp&&this.toggleEditor(t),Object.keys(a).length>0&&this.setState(Object(E.a)({},a))}},{key:"toggleEditor",value:function(e){var t="#tui-image-editor-".concat(e.componentId,">.tui-image-editor-container"),a=e.menuBarPositionProp;K.replaceClassFromElement(t,a,Object.values(x))}},{key:"isImageValidInSize",value:function(e){return e.size<=ce}},{key:"bindImageLoadWrapperFn",value:function(){var e=this,t=this.imageEditor.current.imageEditorInst;this.setState({imageEditorInst:t,originalLoadCode:t.ui._actions.main.load},(function(){return t.ui._actions.main.load=e.imageLoadWrapper}))}},{key:"browseImage",value:function(){document.querySelector("input.tui-image-editor-load-btn").click()}},{key:"saveImageToDisk",value:function(){var e=this.state.imageEditorInst.toDataURL();if(e){var t=e.split(";")[0],a=e.split(";")[0].split("/")[1];$(e,"image.".concat(a),t)}}},{key:"render",value:function(){var e=this.state,t=e.myTheme,a=e.componentId,n={includeUI:{loadImage:{path:this.state.selectedImageURL,name:Z},theme:t||Q,menu:ee,initMenu:te,uiSize:ae,menuBarPosition:ne},cssMaxHeight:ie,cssMaxWidth:re,selectionStyle:oe,usageStatistics:le,ref:this.imageEditor};return i.a.createElement("div",{id:"tui-image-editor-"+a},i.a.createElement(P.a,n))}}]),t}(i.a.Component),me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).addEditedImageFn=e.addEditedImageFn,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"closeModal",value:function(e){this.props.openModal(null,e)}},{key:"getXtraImageAlertJSX",value:function(e,t){return i.a.createElement(u.j,{className:"text-left"},i.a.createElement(u.e,null,i.a.createElement(u.d,null,i.a.createElement("div",null,i.a.createElement(u.f,{icon:"exclamation-triangle",className:"text-color-yellow mr-2"}),i.a.createElement("strong",null,i.a.createElement("i",null," You are going to overflow the cream on your cone"))),i.a.createElement("p",null,"I mean the edited image ","(".concat(String(e.width)," x ").concat(String(e.height),") "),"is still bigger than the bottom canvas ","(".concat(String(t.width)," x ").concat(String(t.height),")"),". You may find it difficult in handling."),i.a.createElement("div",null,i.a.createElement("strong",null,"Tips :")),i.a.createElement("ul",{className:"text-left"},i.a.createElement("li",null,i.a.createElement("b",null,"Crop")," the image more"),i.a.createElement("li",null,"Continue and drag down the image to find its corner and resize it"),i.a.createElement("li",null,i.a.createElement("b",null,"Undo"),"/",i.a.createElement("b",null,"Delete")," one-by-one"),i.a.createElement("li",null,"Restart with bigger bottom image")))),i.a.createElement(u.e,{className:"text-center"},i.a.createElement(u.c,{color:"default",className:"text-trans-none",onClick:this.closeModal.bind(this,{})},i.a.createElement("span",null,"Back to edit"),i.a.createElement(u.f,{icon:"edit",className:"text-color-secondary ml-2"})),i.a.createElement(u.c,{color:"secondary",onClick:this.addEditedImageFn,className:"text-trans-none"},i.a.createElement("span",null,"Add it anyway"),i.a.createElement(u.f,{icon:"check",className:"text-color-green ml-2"}))))}},{key:"closeImageLoadFailModal",value:function(){var e={showXtraEditor:!1,imageSize:null};this.props.showXtraEditor||(e.isBaseImageLoaded=!1),this.closeModal(e)}},{key:"getImageLoadFailJSX",value:function(e){var t=0;e&&(t=Number.parseFloat(e/1e6).toFixed(2));var a="The image is not able to load due to ".concat(e?"size ".concat(t," MB, where upload size limit 6 MB"):"some server error",".");return i.a.createElement(u.j,{className:"text-center"},i.a.createElement(u.e,null,i.a.createElement("p",null,i.a.createElement(u.f,{icon:"exclamation-triangle",className:"text-color-red mr-2"}),i.a.createElement("strong",null,"Sorry! ",i.a.createElement("i",null,a)))),i.a.createElement(u.e,null,i.a.createElement(u.c,{color:"secondary",onClick:this.closeImageLoadFailModal.bind(this)},"Close")))}},{key:"render",value:function(){var e=this.props,t=e.openModalName,a=e.xtraImageSize,n=e.baseImageSize,r=e.imageSize,o=t===S&&!(!a||!a.width),l=t===y,c=o||l?"top":"center";return i.a.createElement(u.i,{isOpen:o||l,toggle:this.closeModal.bind(this),frame:!0,position:c},o&&this.getXtraImageAlertJSX(a,n),l&&this.getImageLoadFailJSX(r))}}]),t}(i.a.Component),de=Object(h.b)((function(e){return{openModalName:e.reducerState.openModalName,imageSize:e.reducerState.imageSize,xtraImageSize:e.reducerState.xtraImageSize,baseImageSize:e.reducerState.baseImageSize,showXtraEditor:e.reducerState.showXtraEditor}}),(function(e){return{openModal:function(t,a){e(M(t,a))}}}))(me),ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={editorName:e.editorName,menuExpand:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.selectedImageURL!==e.selectedImageURL&&this.setState({selectedImageURL:t.selectedImageURL})}},{key:"closeMenuBar",value:function(){this.state.menuExpand&&this.setState({menuExpand:!1},console.log("closed"))}},{key:"toggleMenuBarPosition",value:function(){var e=this.state.menuExpand;this.setState({menuExpand:!e})}},{key:"moveEditor",value:function(e,t){Y.dispatch(j(e,t)),this.toggleMenuBarPosition()}},{key:"render",value:function(){var e=this.state,t=e.editorName,a=e.menuExpand?"expand":"";return i.a.createElement("div",{title:"Editor Nav Menu",className:"nav-menu",onClick:this.toggleMenuBarPosition.bind(this)},i.a.createElement(u.f,{icon:"ellipsis-v",className:""}),i.a.createElement("div",{className:"nav-menu-hidden "+a},i.a.createElement(u.l,null,"Menu bar position"),i.a.createElement("ul",null,i.a.createElement("li",{onClick:this.moveEditor.bind(this,t,v.menuBarPosition)},i.a.createElement(u.f,{icon:"undo",className:"nav-menu-icons"}),i.a.createElement("span",null,"Reset")),i.a.createElement("li",{onClick:this.moveEditor.bind(this,t,x.UP)},i.a.createElement(u.f,{icon:"arrow-up",className:"nav-menu-icons"}),i.a.createElement("span",null,"Move to Up")),i.a.createElement("li",{onClick:this.moveEditor.bind(this,t,x.DOWN)},i.a.createElement(u.f,{icon:"arrow-down",className:"nav-menu-icons"}),i.a.createElement("span",null,"Move to Down")),i.a.createElement("li",{onClick:this.moveEditor.bind(this,t,x.LEFT)},i.a.createElement(u.f,{icon:"arrow-left",className:"nav-menu-icons"}),i.a.createElement("span",null,"Move to Left")),i.a.createElement("li",{onClick:this.moveEditor.bind(this,t,x.RIGHT)},i.a.createElement(u.f,{icon:"arrow-right",className:"nav-menu-icons"}),i.a.createElement("span",null,"Move to Right")))))}}]),t}(i.a.Component),ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).baseImageEditorRef=i.a.createRef(),a.xtraImageEditorRef=i.a.createRef(),a.baseNavMenuRef=i.a.createRef(),a.xtraNavMenuRef=i.a.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.popupCloser()}},{key:"popupCloser",value:function(){var e=this;K.bodyClickButNotElementCallback(".nav-menu",(function(){e.baseNavMenuRef.current&&e.baseNavMenuRef.current.closeMenuBar(),e.xtraNavMenuRef.current&&e.xtraNavMenuRef.current.closeMenuBar()}))}},{key:"componentWillUnmount",value:function(){K.removeBodyClick()}},{key:"closeModal",value:function(){this.props.closeModal()}},{key:"browseImage",value:function(){var e=this.baseImageEditorRef.current;e&&e.browseImage()}},{key:"loadExtraEditor",value:function(e){if(e.target.files.length>0){this.props.showHideXtraEditor(!0);var t=this.xtraImageEditorRef.current;t&&t.imageLoadWrapper(e.target.files[0])}}},{key:"saveImageToDisk",value:function(){var e=this.baseImageEditorRef.current;e&&e.saveImageToDisk()}},{key:"checkCanvasSize",value:function(){var e=this.xtraImageEditorRef.current.imageEditor.current.imageEditorInst.getCanvasSize(),t=this.baseImageEditorRef.current.imageEditor.current.imageEditorInst.getCanvasSize();e&&e.width>t.width?this.props.openModal(S,{xtraImageSize:e,baseImageSize:t}):this.finallyAddEditedImage()}},{key:"finallyAddEditedImage",value:function(){var e=this.xtraImageEditorRef.current.imageEditor.current.imageEditorInst.toDataURL();this.baseImageEditorRef.current.imageEditor.current.imageEditorInst.addImageObject(e),this.closeModal(),this.props.showHideXtraEditor(!1)}},{key:"getXtraImageAlertJSX",value:function(e,t){return i.a.createElement(u.j,{className:"text-center"},i.a.createElement(u.e,null,i.a.createElement(u.m,null,i.a.createElement("div",null,i.a.createElement(u.f,{icon:"exclamation-triangle",className:"text-color-yellow"}),i.a.createElement("strong",null,i.a.createElement("i",null," You are going to overflow the cream on your cone"))),i.a.createElement("p",null,"I mean, the edited image ","(".concat(e.width,"x").concat(e.height,")"),"is still bigger than the bottom canvas ","(".concat(t.width,"x").concat(t.height,")"),". You may find it difficult in handling."),i.a.createElement("div",null,i.a.createElement("strong",null,"Tips if you continue:")),i.a.createElement("ul",{className:"text-left"},i.a.createElement("li",null,"Drag down the bigger image to find its corner and resize it"),i.a.createElement("li",null,i.a.createElement("i",null,"Undo")," one-by-one"),i.a.createElement("li",null,"Select & ",i.a.createElement("i",null,"Delete")," one-by-one"),i.a.createElement("li",null,"(",i.a.createElement("i",null,"Worst case"),") Restart with bigger bottom image")))),i.a.createElement(u.e,null,i.a.createElement(u.c,{color:"default",onClick:this.finallyAddEditedImage.bind(this)},i.a.createElement("span",null,"Add it anyway"),i.a.createElement(u.f,{icon:"check",className:"text-color-green ml-2"})),i.a.createElement(u.c,{color:"secondary",onClick:this.closeModal.bind(this)},i.a.createElement("span",null,"Stop! Let me crop more"),i.a.createElement(u.f,{icon:"times",className:"text-color-red ml-2"}))))}},{key:"getImageLoadFailJSX",value:function(e){var t="The image is not able to load due to ".concat(e?"upload size limit 6 MB":"some server error",".");return i.a.createElement(u.j,{className:"text-center"},i.a.createElement(u.e,null,i.a.createElement(u.m,null,i.a.createElement("p",null,i.a.createElement(u.f,{icon:"exclamation-triangle",className:"text-color-red"}),i.a.createElement("strong",null,"Sorry! ",i.a.createElement("i",null,t))))),i.a.createElement(u.e,null,i.a.createElement(u.c,{color:"secondary",onClick:this.closeModal.bind(this)},"Close")))}},{key:"getXtraImageEditorJSX",value:function(e,t,a,n){var r="container-fluid p-0 "+(t?"":" hidden");return i.a.createElement("div",{id:"xtra-image",className:r},i.a.createElement("h3",{className:"center pos-rel"},i.a.createElement("label",{className:"editor-title"},"Edit "),i.a.createElement("label",{className:"powered-text"},"Powered by Toast UI Image Editor"),i.a.createElement(ue,{editorName:"xtra",ref:this.xtraNavMenuRef})),i.a.createElement("div",{className:"load-download"},i.a.createElement(u.c,{title:"Add this image",className:"btn-round",circle:!0,color:"white",onClick:this.checkCanvasSize.bind(this)},i.a.createElement(u.f,{icon:"check",size:"2x",className:"text-color-green"})),i.a.createElement(u.c,{onClick:this.props.showHideXtraEditor.bind(this,!1),className:"btn-round",circle:!0,color:"white",title:"Cancel"},i.a.createElement(u.f,{icon:"times",size:"2x",className:"text-color-red"}))),e?i.a.createElement(g,{icon:"spinner",pulse:!0}):i.a.createElement(se,{componentId:"xtra",ref:this.xtraImageEditorRef,selectedImageURL:a,myTheme:v.defaultTheme2,menuBarPositionProp:n}))}},{key:"render",value:function(){var e=this.props,t=e.isBaseImageLoaded,a=e.selectedImageURL,n=e.useImageloading,r=e.xtraImageloading,o=e.showXtraEditor,l=e.xtraImageURL,c=e.xtraEditorPosition,s=e.baseEditorPosition;return i.a.createElement("div",null,i.a.createElement("div",{id:"cream-your-meme",className:"container-fluid p-0 "+(o?" hidden":"")},i.a.createElement("h3",{className:"center pos-rel"},i.a.createElement("label",{className:"editor-title"},"Cream your meme"),i.a.createElement("label",{className:"powered-text"},"Powered by Toast UI Image Editor"),i.a.createElement(ue,{editorName:"base",ref:this.baseNavMenuRef})),i.a.createElement("div",{className:"load-download"},i.a.createElement(u.c,{color:"white",circle:!0,className:"btn-round",title:"Select Image",onClick:this.browseImage.bind(this)},i.a.createElement(u.f,{className:"text-color-secondary",icon:"image",size:"2x"})),i.a.createElement(u.c,{color:"white",circle:!0,className:"btn-round",title:"Add image",onClick:function(){return document.getElementById("addImage").click()},disabled:!t||null},i.a.createElement(u.f,{className:"text-color-secondary",icon:"images",size:"2x"}),i.a.createElement("input",{className:"hidden",id:"addImage",type:"file",onChange:this.loadExtraEditor.bind(this),accept:"image/x-png,image/gif,image/jpeg"})),i.a.createElement(u.c,{color:"default",circle:!0,className:"btn-round",title:"Save to disk",onClick:this.saveImageToDisk.bind(this),disabled:!t||null},i.a.createElement(u.f,{className:"text-color-secondary",icon:"download",size:"2x"}))),n?i.a.createElement(g,{icon:"spinner",pulse:!0}):i.a.createElement(se,{componentId:"base",ref:this.baseImageEditorRef,selectedImageURL:a,menuBarPositionProp:s})),this.getXtraImageEditorJSX(r,o,l,c),i.a.createElement(de,{addEditedImageFn:this.finallyAddEditedImage.bind(this)}))}}]),t}(i.a.Component),he=Object(h.b)((function(e){return{isBaseImageLoaded:e.reducerState.isBaseImageLoaded,selectedImageURL:e.reducerState.selectedImageURL,useImageloading:e.reducerState.useImageloading,xtraImageloading:e.reducerState.xtraImageloading,openModalName:e.reducerState.openModalName,imageSize:e.reducerState.imageSize,xtraImageSize:e.reducerState.xtraImageSize,baseImageSize:e.reducerState.baseImageSize,showXtraEditor:e.reducerState.showXtraEditor,xtraImageURL:e.reducerState.xtraImageURL,addMoreImageAlertStates:e.reducerState.addMoreImageAlertStates,imageLoadModalStates:e.reducerState.imageLoadModalStates,xtraEditorPosition:e.reducerState.xtraEditorPosition,baseEditorPosition:e.reducerState.baseEditorPosition}}),(function(e){return{closeModal:function(){e(M(null,null))},openModal:function(t,a){e(M(t,a))},showHideXtraEditor:function(t){e(T(t))}}}))(ge),Ee=a(90),pe=a(199),fe={domainURL:"http://localhost:3000",graphqlURL:"http://localhost:4000/graphql?"},Ie=(a(187),a(188),a(189),a(190),a(191),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getTruncateText",value:function(e){return K.getTruncateText(e)}},{key:"searchedImageClick",value:function(e,t,a,n){n?(this.props.showHideXtraEditor(!0),K.scrollToHiddenElementById("xtra-image")):(this.props.showHideXtraEditor(!1),K.scrollToHiddenElementById("cream-your-meme")),this.props.useImage(e,t,a,n)}},{key:"render",value:function(){var e=this.props,t=e.imageThumbnail,a=e.imageUrl,n=e.imageTitle,r=e.imageId,o=e.selectedImageId,l=e.isBaseImageLoaded;return i.a.createElement("div",{id:r,className:"image-div "+(o===r?" selected":""),title:this.getTruncateText(n),onClick:function(e){return e.stopPropagation()}},i.a.createElement("img",{src:t,alt:"unavailable"}),i.a.createElement("span",{className:"image-title"},this.getTruncateText(n)),i.a.createElement("span",{className:"actions"},i.a.createElement("div",{className:"hover-text",onClick:this.searchedImageClick.bind(this,t,a,r,!1)},i.a.createElement(u.f,{icon:"image"}),i.a.createElement("span",{className:"m-l-10"},"Use as base image")),i.a.createElement("div",{className:"hover-text "+(l?"":" disabled"),onClick:l?this.searchedImageClick.bind(this,t,a,r,!0):null},i.a.createElement(u.f,{icon:"images"}),i.a.createElement("span",{className:"m-l-10"},"Add over existing"))))}}]),t}(i.a.Component)),be=Object(h.b)((function(e){return{selectedImageId:e.reducerState.selectedImageId,isBaseImageLoaded:e.reducerState.isBaseImageLoaded}}),(function(e){return{useImage:function(t,a,n,i){e(w(t,a,n,i))},showHideXtraEditor:function(t){e(T(t))}}}))(Ie),ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).handleSearch=function(e){var t=e.target.value;t&&a.props.updateSearchString(t),13===(e.keyCode?e.keyCode:e.which)&&a.props.getImageList()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"noResultsJSX",value:function(){return i.a.createElement("div",{className:"no-image-result"},i.a.createElement(u.b,{color:"light",className:"result-tags"},"Result Found: 0"),i.a.createElement("span",null,"\xa0 Try different search tags"))}},{key:"fetchPage",value:function(e){var t=Number(this.props.options.page),a=e?t+10:t-10;this.props.updateSearchOptions({page:a}),this.props.getImageList()}},{key:"getSelectedFilterTagsJSX",value:function(){var e=this.props,t=e.options,a=e.resultCount;return i.a.createElement("div",{className:"text-left filter"},i.a.createElement(u.c,{size:"sm",circle:!0,className:"btn-round result-tags",color:"blue",onClick:this.fetchPage.bind(this,!1),disabled:t.page<2||null},i.a.createElement(u.f,{icon:"angle-double-left"})),i.a.createElement(u.c,{size:"sm",circle:!0,className:"btn-round result-tags",color:"blue",onClick:this.fetchPage.bind(this,!0)},i.a.createElement(u.f,{icon:"angle-double-right"})),i.a.createElement(u.b,{color:"default",className:"text-capitalize result-tags"},"Result Found: ",a),t&&Object.keys(t).map((function(e){var a=Math.ceil(t[e]/10),n="page"===e?a:t[e];return i.a.createElement(u.b,{color:"default",key:!0,className:"text-capitalize result-tags"},"".concat(e," : ").concat(n))})))}},{key:"getImageResultJSX",value:function(){var e=this.props.imageList;return i.a.createElement("div",null,this.getSelectedFilterTagsJSX(),i.a.createElement("div",{className:"image-result-div flex-container"},e&&e.map((function(e,t){var a=e.url,n=e.thumbnail,r=e.snippet;return i.a.createElement(be,{key:t,imageThumbnail:n,imageUrl:a,imageTitle:r,imageId:t})}))))}},{key:"render",value:function(){var e=this.props,t=e.imageList,a=e.imageListloading;return i.a.createElement("div",{className:"container-fluid p-0"},i.a.createElement(u.e,{className:"p-0"},i.a.createElement(u.m,null,i.a.createElement(u.d,{xl:"12",lg:"12",md:"12"},i.a.createElement("div",{className:"pos-rel"},i.a.createElement("label",{className:"powered-text"},"Powered by Google Custom Search")),i.a.createElement(u.h,{label:"Search with meme tags",id:"searchBox",containerClass:"mr-1",onKeyUp:this.handleSearch.bind(this),icon:"search",iconClass:"float-right pos-rel cursor-pointer",onIconClick:this.props.getImageList.bind(this)})))),i.a.createElement(u.e,{id:"searchResults"},a?i.a.createElement(g,{icon:"spinner",pulse:!0,customClass:"bg-none",iconClass:"text-color-black"}):t&&0===t.length?this.noResultsJSX():this.getImageResultJSX()))}}]),t}(n.Component);var Se=Object(h.b)((function(e){return{imageList:e.reducerState.imageList,imageListloading:e.reducerState.imageListloading,resultCount:e.reducerState.resultCount,options:e.reducerState.options,useImageloading:e.reducerState.useImageloading,searchString:e.reducerState.searchString}}),(function(e){return{getImageList:function(){e(L())},updateSearchString:function(t){e(N(t))},updateSearchOptions:function(t){e(k(t))}}}))(ve),ye=new Ee.a({uri:fe.graphqlURL}),xe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(pe.a,{client:ye},i.a.createElement("div",{className:"App"},i.a.createElement("h2",{className:"text-center"}," Meme Team"),i.a.createElement(Se,null),i.a.createElement(he,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(h.a,{store:Y},i.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(193)}},[[91,1,2]]]);
//# sourceMappingURL=main.543ee1dc.chunk.js.map